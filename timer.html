<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript Timer with Alarm and Cancel Button</title>
</head>
<body>
  <div>
    <input type="number" id="minutesInput" placeholder="Minutes" min="0" max="999">
    <input type="number" id="secondsInput" placeholder="Seconds" min="0" max="59">
    <button id="startBtn">Start Timer</button>
    <button id="cancelBtn" disabled>Cancel Timer</button> <!-- New Cancel Button -->
  </div>

  <div id="timerDisplay">00:00</div>

  <script>
    let timerId = null;
    let timeLeft = 0;
    const alarmSound = new Audio('path/to/your-alarm-sound.mp3'); // Replace with actual file path or use a base64 audio string

    function startTimer() {
      const minutes = parseInt(document.getElementById("minutesInput").value) || 0;
      const seconds = parseInt(document.getElementById("secondsInput").value) || 0;
      timeLeft = (minutes * 60) + seconds;

      if (timerId) clearInterval(timerId); // Clear any previous interval

      // Enable Cancel Button, disable Start Button
      document.getElementById("cancelBtn").disabled = false;
      document.getElementById("startBtn").disabled = true;

      timerId = setInterval(() => {
        if (timeLeft > 0) {
          timeLeft--;
          displayTime();
        } else {
          clearInterval(timerId);
          timerId = null;
          alert("Time's up!"); // Visual notification
          alarmSound.play(); // Play sound
          resetButtons();
        }
      }, 1000);
    }

    function cancelTimer() {
      if (timerId) {
        clearInterval(timerId); // Stop the timer
        timerId = null;
      }
      timeLeft = 0; // Reset time
      displayTime(); // Update display to 00:00
      resetButtons(); // Reset buttons to their default state
    }

    function displayTime() {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      document.getElementById("timerDisplay").textContent =
        `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    }

    function resetButtons() {
      document.getElementById("startBtn").disabled = false;
      document.getElementById("cancelBtn").disabled = true;
    }

    // Event listeners
    document.getElementById("startBtn").addEventListener("click", startTimer);
    document.getElementById("cancelBtn").addEventListener("click", cancelTimer);

    // Initialize display
    displayTime();
  </script>
</body>
</html>
